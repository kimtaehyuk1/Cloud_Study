![image](https://user-images.githubusercontent.com/67897827/181779614-ddf44d6e-73e5-4242-ac59-349a4e2d2a79.png)

![image](https://user-images.githubusercontent.com/67897827/181779972-6a6bff8b-2c84-4603-8a73-ce28fd4df2ee.png)

![image](https://user-images.githubusercontent.com/67897827/181780111-e7e50fdc-1f57-4f9a-878a-e471b88522c1.png)

RDS  
• 관계형 데이터 베이스 서비스 (Relational Database Service)  
• Aurora, PostgreSQL, MySQL, MariaDB, Oracle, SQL Server 등의 RDS 엔진을 AWS에서는 제공  
• SQL 쿼리를 이용하는 데이터 베이스 용도에 사용  
• DB 다운타임 없이 스토리지 용량만큼 자동으로 확장 가능 (Storage Auto Scaling)  
• 3가지 데이터베이스 스토리지 유형 제공  
✓ 범용 SSD 스토리지: 일반적인 용도  
✓ 프로비저닝된 IOPS SSD 스토리지: 빠른 I/O가 필요한 경우 사용  
✓ 마그네틱 스토리지: 액세스 빈도가 낮은 경우 사용  

RDS 백업  
• Amazon RDS는 DB 인스턴스 백업 및 복구를 위한 두 가지 방법, 즉 자동 백업 및 데이터베이스 스냅샷(DB 스냅샷)을 제공  
자동백업 (Automated backup)  
✓ 백업을 수행하는 백업 기간을 설정  
✓ 백업 보존 기간은 1일 부터 최대 35일까지 설정 가능  
✓ DB 인스턴스를 특정 시점으로 복구 가능 (Point in time recovery)  
✓ RDS는 DB 트랜잭션 로그를 5분마다 백업 하므로 가장 오래된 시점 부터 5분전까지 시점으로 복구 가능  
✓ 자동백업을 비활성화 하려면 보존기간을 0으로 설정  
데이터베이스 스냅샷(DB Snapshots)  
✓ 사용자가 수동으로 스냅샷 생성가능  
✓ 사용자가 지정한 만큼 백업을 보존할 수 있음 (스냅샷 보존기간 없음)  
• 특정 시점으로 복구 또는 DB 스냅샷에서 복구 작업을 수행하면 새로운 엔드포인트를 가지는 새 DB 인스턴스가 생성 됨(필요한 경우 기존 DB 인스턴스를 삭제할 수 있음)  
• Amazon RDS DB 스냅샷과 자동 백업은 S3에 저장  

![image](https://user-images.githubusercontent.com/67897827/182146062-784c9fc9-8298-46f4-bd18-1a08b8d9b5a0.png)

![image](https://user-images.githubusercontent.com/67897827/182146360-a51c694c-d57f-443d-947e-9686725388ff.png)

![image](https://user-images.githubusercontent.com/67897827/182146735-f9ae0795-7b6a-471f-8cca-d81f43724dbd.png)

(실습)  
RDS 데이터베이스 생성 -> 표준생성,MySQL,프리티어,마스터암호지정,인스턴스클래스에 t2.micro(이거는 다중 AZ지원은 안함),스토리지는 프로비저닝,대기인스턴스생성이 자동배포 
AZ사용,서브넷은 디폴트로나두고,퍼블릭엑세스는 예,보안그룹은 새로생성해서 RDS_SG로생성,데이터베이스인증은 암호인증, 생성하기 

작업눌러서 읽기전용 복제본 선택도 가능한데 우린 프리티어라 안됨.

Aurora  
• RDS 호환형 관계형 데이터 베이스  
• RDS에서 제공하는 읽기전용복제본, KMS암호화, 스냅샷 백업, 오토스케일링 등을 제공  
• AWS에서 만든 서비스로 다른 RDS보다 저렴한 비용에 성능이 더 뛰어남  
• 다른 RDS보다 속도는 3-5배 빠름  
• 데이터베이스 설정, 패치 적용 및 백업과 같은 관리 태스크를 자동화  
• 개별 DB 인스턴스 기반이 아닌!!! 여러 인스턴스를 하나로 운영하는 클러스터 DB 기반으로 구성 됨  

![image](https://user-images.githubusercontent.com/67897827/182150139-6baac1cd-eb76-4857-b216-39f21b8062f6.png)

Aurora 멀티 마스터 클러스터  
• 단일 마스터 클러스터  
✓ 단일 DB 인스턴스는 모든 쓰기 작업을 수행하며, 기타 모든 DB 인스턴스는 읽기 전용입니다. 라이터 DB 인스턴스
가 사용 불가 상태가 되면 장애 조치 메커니즘이 읽기 전용 인스턴스 중 하나를 새 라이터로 승격  
• 멀티 마스터 클러스터  
✓ 모든 DB 인스턴스는 쓰기 작업을 수행  
✓ 라이터 DB 인스턴스가 사용 불가 상태가 될 때 어떤 장애 조치도 없음  
✓ 읽기/쓰기 DB 인스턴스가 사용 불가 상태가 될 때 장애 조치 프로세스 및 관련 지연이 발생하지 않음  
Aurora Serverless  
• DB 인스턴스 운영 및 데이터 베이스 용량을 수동으로 관리 하지 않음  
• 특정 DB 인스턴스 유형을 선택하지 않음  
• 사용량에 따라 DB 용량을 자동으로 빠르게 용량을 확장하고 축소하는 기능(AWS가 해줌)  
• 사용한 만큼만 DB 용량을 초당 요금으로 지불  
• DB 사용빈도가 낮은 애플리케이션에 효과적  

(실습)  
RDS가서 데이터베이스 생성 -> 표준생성,오로라,MySQL호환버젼,프로비저닝됨(여기서 서버리스하면 AWS가 알아서관리해주는것이다.),복제기능에서 단일마스터(다중은 모든DB가쓰기작업
수행),템플릿은 프로덕션,이름과패스워드,인스터스클래스는 버스터블클래스t3.small,다중AZ배포,퍼블릭엑세스는 예,보안그룹은 RDS_SG선택, 생성

ElastiCache  
• 인메모리 데이터 스토어  
• 1밀리 초 미만의 빠른 응답시간을 제공  
• 빠른 응답이 필요한 애플리케이션에 사용  
• 기존의 RDS와 연결하여 DB응답성능을 개선하기 위해 사용 (자주 사용하는 DB 데이터를 캐시)  
• 세션 스토어, 게임 리더보드, 스트리밍 및 분석과 같이 내구성이 필요하지 않는 기본 데이터 스토어로 사용  
• 오픈소스 인메모리 데이터베이스 솔루션인 Redis또는 Memcached 두가지 유형을 지원  
• Memcached는 멀티쓰레드 지원, Redis는 싱글쓰레드만 지원  
• 일반적으로 Redis가 더 많은 기능을 지원 (스냅샷 백업, 복제기능, 고가용성 제공 등)  


DynamoDB  
• NoSQL 데이터베이스 서비스  
• 키-값, 문서 데이터 모델 지원  
• 서버리스 서비스  
• 용량에 맞게 자동으로 확장 및 축소(Auto Scaling) 하므로 관리 및 운영 오버헤드 최소화  
• 10밀리 초 미만의 빠른 응답을 제공(RDS보단 빠르고,Elasticache보단 느리다)  
• 초당 수백만개 이상의 요청 처리 가능  
• 지연시간이 짧은, 빠른 응답이 필요한 애플리케이션에 사용  
• 쇼핑몰 장바구니, 은행 트랜잭션, 게임 플레이어 기록 저장 등에 사용  

DynamoDB  
백업 및 복구  
• DB 테이블에 대해 온디맨드 백업을 생성하고 특정 시점으로 복구를 활성화  
• 특정 시점으로 복구 PITR(Point-in-time recovery)를 사용해 최근 35일 이내 원하는 시점으로 테이블 복원가능  
DynamoDB 테이블 클래스  
• DynamoDB Standard : 기본형으로 대부분의 워크로드에 권장  
• DynamoDB Standard-IA : 애플리케이션 로그, 오래된 소셜 미디어 게시물, 전자 상거래 주문 내역 및 과거 게임 성과와같이 
자주 액세스하지 않는 데이터를 저장하는 테이블에 대한 비용을 줄임  
읽기/쓰기 용량모드  
• 온디맨드 모드: 초당 읽기/쓰기 처리량을 자동으로 조정, 트래픽 예측이 불가능한 경우 사용  
• 프로비전드 모드: 읽기/쓰기 횟수를 수동으로 조정. 트래픽 예측이 가능한 경우 사용  
DynamoDB Accelerator (DAX)  
• 데이터베이스 앞에 인메모리 캐시를 사용해서 DB의 성능을 향상시키는 기능  
• 마이크로 초 단위의 응답시간을 제공  
TTL(Time to Live)  
• DynamoDB 유지 시간(TTL)을 사용하여 항목별 타임스탬프를 정의하여 항목이 더 이상 필요하지 않은 시점을 결정  
• 지정된 타임스탬프 날짜 및 시간이 지나면 DynamoDB 테이블에서 항목을 삭제  
• 예, 애플리케이션에서 1년 동안 사용하지 않은 사용자 또는 센서 데이터를 제거  
• 예, 만료된 항목을 Amazon DynamoDB Streams 및 AWS Lambda를 통해 Amazon S3에 보관  

글로벌테이블  
• 리전간에 데이터베이스를 복제하는 기능  
• 모든 리전에서 읽기, 쓰기 가능  
• 복제본 테이블에 있는 항목의 모든 변경 사항은 동일한 글로벌 테이블 내의 다른 모든 복제본에 1초이내로 복제됨  
• 하나의 리전에 문제가 발생해도 다른 리전으로 라우팅 되므로 재해 복구 기능을 함  
• 사용자는 가까운 리전에서 DB를 사용하기에 더욱 빠른 성능 지원  
DynamoDB Streams  
• DB 테이블에 저장된 항목에 변경이 발생하는 경우 변경 사항을 캡쳐하는 기능  
• 예, 변경 사항에 대해 Kinesis Data Stream으로 보낼 수 있음  
• 예, 변경 사항 이벤트가 발생할 때마다 이벤트를 Lamba로 트리거 하여 Amazon SNS로 전송하여 이메일 등의 이벤트 알림을 생성할 수 있음  
읽기 일관성  
• DynamoDB에서 데이터를 읽을 때, 사용자는 읽기를 최종적 일관된 읽기나 강력한 일관된 읽기로 지정 가능  
• 최종적 일관된 읽기(기본값)  
✓ 최종 일관성 옵션은 읽기 처리량을 최대화  
✓ 최종적 일관된 읽기는 최근 완료한 쓰기 결과를 반영하지 못할 수 있음  
• 강력한 일관된 읽기  
✓ 읽기 전에 성공적인 응답을 수신한 모든 쓰기를 반영한 결과를 반환  
✓ 최종적 일관된 읽기 보다 읽기 지연시간이 길어지거나 처리 용량을 많이 사용  

(실습)  
DynamoDB검색 테이블생성 -> 이름,파티션키값은 user_id(문자열),설정은 사용자지정,테이블클래스는 스탠다드,용량계산기에서 읽기일관성선택,읽기쓰기용량설정은 온디맨드로
AWS에서 자동으로 하게, 생성 만들어지면 오른쪽 상단에 항목 보기에서 항목생성에서 값 추가할수 있다.

Database Migration Service (DMS)  
• 데이터 베이스를 마이그레이션 하는 서비스 (DB -> DB)  
• 온-프레미스에서 AWS 또는 AWS내에서 마이그레이션 가능  
• 원본 DB를 사용하는 중에도 지속적으로 마이그레이션 가능  
• 같은 종류 및 서로 다른 종류 DB도 마이그레이션 가능  
• 이 기종의 DB는 Schema Conversion Tool(SCT)를 이용해 데이터 스키마를 마이그레이션 대상 DB에 적합하게 변환해야 함  
• 같은 종류의 DB는 데이터 변환 필요 없음  

(실습)
Database Migration Service 복제 인스턴스 만들어야 되는데 만약 DB가 2개있으면 먼저 복제했다가(중간느낌) 옮기는거 -> 이름,인스턴스클래스는 dms.t3.micro,VPC선택,단일AZ,
생성 -> 그후에 왼쪽 탭에 마이그레이션 태스크를 해줘야된다. 태스크생성 -> 이름,복제인스턴스고르고, 소스데이터베이스(마이그레이션할)와 대상데이터베이스 선택 기타 옵션 선택후
생성누르기

![image](https://user-images.githubusercontent.com/67897827/182162808-95d9ae13-73e6-4472-b19b-8ca45de26543.png)

![image](https://user-images.githubusercontent.com/67897827/182163206-04cc5b6f-a8dc-4e1a-8a4e-9777c0d615cb.png)




































