DNS (Domain Name System) & Route 53  
• DNS는 사람이 읽을 수 있는 도메인 이름(예: www.amazon.com)을 컴퓨터가 읽을 수 있는 IP 주소(예: 192.0.2.44)로 변환하는 시스템  
• Route 53은 AWS에서 제공하는 DNS (Domain Name System) 서비스  
• Route 53의 기능  
✓ 퍼블릭 도메인 구매 또는 이전 (.com, .net, .co.kr)  
✓ AWS내부 VPC에서만 사용할 수 있는 프라이빗 도메인 생성  
✓ 라우팅 정책 적용(단순 라우팅, 가중치기반, 지리적위치, 지연시간, 장애조치, 다중값 응답)  

![image](https://user-images.githubusercontent.com/67897827/189944647-572c9202-2063-4d7d-969e-993a073ee140.png)


차근 차근 과정 읽어보기
![image](https://user-images.githubusercontent.com/67897827/189946327-8b2d71db-1c53-4575-a229-1a2d8cf0d66b.png)

![image](https://user-images.githubusercontent.com/67897827/189953912-2a1ae4c6-60b3-4fee-9f31-f883ef75db1d.png)

참고로 Route53서버가 IP주소 반환할때 TTL이라는것을 반환하는데..즉 DNS리졸버가 이 레코드에 관한 정보를 캐싱해 가지고 있는 시간이다.(그 시간안에 또 접속하면
위의 복잡과정 안거치고 바로 받을 수 있것지)

DNS 서비스를 사용할 때 레코드라는 것을 사용하는데 이건 DNS서비스의 특별한 정보가 저장된 항목을 레코드라 한다.

![image](https://user-images.githubusercontent.com/67897827/189948980-011eb632-9b3f-4530-91b5-5b99fef03e9c.png)

쉽게 레코드를 가지고 도메인을 여리저리 라우팅하는 거라고 생각하자!!
처음 DNS를 생성하면 NS레코드(특정 도메인네임의 정보를 가지고 있는 DNS를 식별하기 위한 레코드)와 SOA레코드(도메인의 정보와 권한을 가진 레코드)가 디폴트로 생김

![image](https://user-images.githubusercontent.com/67897827/189951346-87e3f998-d0c1-43b4-8f9a-61ad18408d18.png)

(체크부분) IP주소를 가지고 있는것이 (Route53의 DNS에 호스팅영역에서) 레코드 값에서 가지고 있다! 근데 반환할 IP주소를 여러개 가지고 있으면 랜덤하게 라우팅 됨

(실습)단순라우팅
지금 상황이 머냐면 웹서버(EC2 인스턴스) 3개를 만들어준 상황이고 대상그룹에 추가했고 로드밸런서도 함께 만들어준 상황  
여기서 Route53에서 만들어준 퍼블릭 도메인(돈내고 만들어야됨)눌러서 레코드 생성 누르기 -> 이름은 걍 simple로, 레코드 유형은 A, 값에서 만들어준 웹서버1번 ip주소 입력
(그러니까 이런식으로 simple.~.com 했을때 저 IP로 값이 반환하는 느낌이지 그걸 여기서 만들어 주는겨) 또 IP주소 여러개 입력도 가능하다, TTL은 1분으로, 라우팅정책은
단순라우팅 클릭

비슷하게 레코드 생성칸에서 트래픽 라우팅 대상을 별칭으로 바꾸고 ALB(다른 것도 되지만 난 ALB만들어서) 눌러하면 정한 도메인으로 접속하면 aws ALB로 접속이 된다
그럼 그 안에 속한 대상그룹에서 랜덤 LB되것지 즉 IP주소가 아니라 여긴 ALB로 라우팅이 되는거다.

가중치 기반 라우팅
![image](https://user-images.githubusercontent.com/67897827/189955211-80d4554d-154f-4411-ac42-c1e79d5a8e9c.png)


(실습)  
위와 같이 레코드 생성눌러서 이름 써주고, 유형은 A,값은 웹서버1 IP 넣고,TTL은 1분, 라우팅정책을 가중치 기반 하고 50두기,레코드 ID아무거나 입력 -> 이런식으로
다른 레코드 추가해서 가중치만 다르게 하기(이름은 똑같이,값은 당연히 다르게) 두번째 가중치는 50으로 하면 같은 도메인으로 접속하면 50:50 확률로 웹서버 다르게
접속 될 것이다.





